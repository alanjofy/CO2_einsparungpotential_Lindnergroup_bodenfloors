<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Circular Rebuild CO2 Tool</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- html2canvas -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>

<body>

<section class="login-screen" id="loginScreen">
  <div class="login-panel">
    <div class="login-brand">
      <img src="Lindner_Logo_from_txt.png" alt="Lindner logo" />
      <h2 id="loginTitle">Lindner Access</h2>
      <p id="loginSubtitle">Please login to continue</p>
    </div>

    <form id="loginForm" class="login-form" autocomplete="off">
      <label for="loginUsername" id="loginUserLabel">Username</label>
      <input id="loginUsername" type="text" required />

      <label for="loginPassword" id="loginPassLabel">Password</label>
      <input id="loginPassword" type="password" required />

      <button type="submit" id="loginBtn">Login</button>
      <p id="loginError" class="login-error hidden">Invalid username or password</p>
    </form>
  </div>
</section>

<section class="welcome-overlay hidden" id="welcomeOverlay" aria-modal="true" role="dialog">
  <div class="welcome-card">
    <h2 id="welcomeTitle">Welcome to Lindner Circular Questionnaire</h2>
    <p id="welcomeIntro">This tool helps you compare A1-C4 climate impact and identify better circular options.</p>
    <ul class="welcome-list">
      <li id="welcomeStep1">1) Select project context</li>
      <li id="welcomeStep2">2) Choose floor type and product</li>
      <li id="welcomeStep3">3) Select end-of-life pathway</li>
      <li id="welcomeStep4">4) Review recommendation and export report</li>
    </ul>
    <label class="welcome-checkbox">
      <input type="checkbox" id="welcomeDontShow" />
      <span id="welcomeDontShowLabel">Don't show again</span>
    </label>
    <div class="welcome-actions">
      <button type="button" id="welcomeSkipBtn" class="welcome-skip">Skip</button>
      <button type="button" id="welcomeStartBtn">Start Assessment</button>
    </div>
  </div>
</section>
<header>
  <h1 id="mainTitle">ðŸŒ¿ Product Lifecycle Optimizer</h1>
  <p id="mainSubtitle">Smart. Analytical. Strategic</p>
  <p id="mainScopeTitle">Cradle-to-grave climate impact comparison (A1-C4)</p>
  <img class="brand-logo" src="Lindner_Logo_from_txt.png" alt="Lindner logo" />
  <div class="header-actions">
    <button id="langToggleBtn" class="lang-toggle hidden" type="button">DE</button>
    <button id="logoutBtn" class="logout-btn hidden" type="button">Logout</button>
  </div>
</header>

<main class="layout">

  <!-- ================= LEFT PANEL ================= -->
  <aside class="controls">

    <div class="card">
      <label id="projectContextLabel">Project Context</label>
      <select id="customerTypeSelect">
        <option value="" id="customerTypeDefaultOption">Select your requirement</option>
        <option value="installed product" id="installedProductOption">I have an installed product</option>
        <option value="New product" id="newProductOption">I need a new product</option>
      </select>
    </div>

    <div class="card">
      <label id="floorTypeLabel">Floor type</label>
      <select id="bodenSelect">
        <option value="" id="floorTypeDefaultOption">Select floor type</option>
      </select>
    </div>
    
    <div class="card hidden" id="subTypeCard">
      <label id="floorConfigLabel">Floor Configuration</label>
      <select id="subTypeSelect">
        <option value="" id="floorConfigDefaultOption">Select configuration</option>
      </select>
    </div>

    <div class="card">
      <label id="productLabel">Product</label>
      <select id="installedSelect">
        <option value="" id="productDefaultOption">Select product</option>
      </select>
    </div>

    <div class="card decision-card">
      <label id="eolDecisionLabel">End-of-life decision</label>
      <select id="userChoiceSelect">
        <option value="" id="eolDefaultOption">Select end-of-life</option>
      </select>
    </div>

  </aside>

  <!-- ================= RIGHT PANEL ================= -->
  <section class="visual hidden" id="resultBox">

    <h2 id="comparisonTitle"></h2>

    <div class="insight-grid">

      <!-- ================= DONUT BLOCK ================= -->
      <div class="donut-wrapper hidden" id="donutBlock">

        <div class="donut-graphic">
          <canvas id="pieChart"></canvas>

          <div class="donut-center" id="donutCenter">
            <span id="savingPercent">0%</span>
            <small id="donutReductionLabel">CO2 reduction</small>
          </div>
        </div>        <!-- ðŸŒ³ PREMIUM FOREST INSIGHT POP -->
        <div class="forest-pop hidden" id="forestPop">
          ðŸŒ³ You didn't just avoid new production -
          <strong>you preserved forest carbon resources too.</strong>
        </div>

      </div>

      <!-- ================= IMPACT PANEL ================= -->
      <div class="insights-panel" id="insightsPanel">

        <h3 id="impactInsightsTitle">Impact insights</h3>

        <div class="insight-row" id="insightRow">

          <!-- Small reuse savings ring (hidden in installed mode via CSS) -->
          <div class="reuse-savings hidden" id="reuseSavings">

            <div class="reuse-savings-title">
              <span id="savingsPotentialLabel">Savings potential</span>
            </div>

            <div class="reuse-ring" id="reuseRing">
              <div class="reuse-ring-center">
                <span id="reusePercent">0%</span>
                <small id="reuseReductionLabel">CO<sub>2</sub> reduction</small>
              </div>
            </div>

          </div>

          <div id="commentaryBox"></div>

        </div>



        <div class="ligna-popup hidden" id="reuseLignaBoost">
          <div class="ligna-popup-title" id="moreSavingsTitle">More Savings</div>
          <ul class="ligna-popup-list">
            <li id="moreSavingsItem1">Less Trees are cut</li>
            <li id="moreSavingsItem2">Carbon remains stored longer during it's second life</li>
          </ul>
        </div>

                <!-- EOL VISUAL -->
        <div class="eol-visual hidden" id="eolVisual"></div>

        <!-- WHAT IF REUSE -->
        <div class="whatif hidden" id="whatIfBox">
          <div class="reuse-arrow">â¬†</div>
          <h4>ðŸ’¡ What if this product were reused?</h4>
          <p>
            Reuse keeps material value in the system and avoids
            emissions from new production.
          </p>
        </div>

      </div>

    </div>

    <!-- EXPORT BUTTON -->
    <button id="exportBtn" onclick="exportPNG()">
      â¬‡ Export PNG
    </button>

    <!-- SCOPE NOTE -->
    <p class="scope" id="scopeNote">
      Scope: A1-C4 â€¢ Functional unit unchanged
    </p>

  </section>

</main>

<script src="script.js"></script>

</body>
</html>








